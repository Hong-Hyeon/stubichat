{"openapi":"3.1.0","info":{"title":"Stubichat LLM Agent","description":"LLM Agent service for Stubichat using OpenAI API","version":"1.0.0"},"paths":{"/generate/":{"post":{"tags":["generate"],"summary":"Generate Text","description":"Generate text using OpenAI API.","operationId":"generate_text_generate__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_generate_text_generate__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate/stream":{"post":{"tags":["generate"],"summary":"Generate Stream","description":"Stream text generation using OpenAI API.","operationId":"generate_stream_generate_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_generate_stream_generate_stream_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate/health":{"get":{"tags":["generate"],"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_generate_health_get","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/Settings"},{"type":"null"}],"title":"Settings"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_generate_stream_generate_stream_post":{"properties":{"request":{"$ref":"#/components/schemas/GenerateRequest"},"settings":{"anyOf":[{"$ref":"#/components/schemas/Settings"},{"type":"null"}]}},"type":"object","required":["request"],"title":"Body_generate_stream_generate_stream_post"},"Body_generate_text_generate__post":{"properties":{"request":{"$ref":"#/components/schemas/GenerateRequest"},"settings":{"anyOf":[{"$ref":"#/components/schemas/Settings"},{"type":"null"}]}},"type":"object","required":["request"],"title":"Body_generate_text_generate__post"},"GenerateRequest":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages"},"stream":{"type":"boolean","title":"Stream","description":"Enable streaming response","default":false},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","default":0.7},"max_tokens":{"anyOf":[{"type":"integer","maximum":4000.0,"minimum":1.0},{"type":"null"}],"title":"Max Tokens"},"model":{"type":"string","title":"Model","description":"OpenAI model to use","default":"gpt-4"}},"type":"object","required":["messages"],"title":"GenerateRequest","example":{"max_tokens":1000,"messages":[{"content":"Hello, how are you today?","role":"user"}],"model":"gpt-4","stream":false,"temperature":0.7}},"GenerateResponse":{"properties":{"response":{"type":"string","title":"Response"},"model":{"type":"string","title":"Model"},"usage":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Usage"},"finish_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Finish Reason"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["response","model"],"title":"GenerateResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"service":{"type":"string","title":"Service","default":"llm-agent"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"openai_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Openai Status"},"version":{"type":"string","title":"Version","default":"1.0.0"}},"type":"object","required":["status"],"title":"HealthResponse"},"Message":{"properties":{"role":{"$ref":"#/components/schemas/MessageRole"},"content":{"type":"string","title":"Content"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp"}},"type":"object","required":["role","content"],"title":"Message"},"MessageRole":{"type":"string","enum":["user","assistant","system"],"title":"MessageRole"},"Settings":{"properties":{"app_name":{"type":"string","title":"App Name","default":"Stubichat LLM Agent"},"app_version":{"type":"string","title":"App Version","default":"1.0.0"},"debug":{"type":"boolean","title":"Debug","default":false},"host":{"type":"string","title":"Host","default":"0.0.0.0"},"port":{"type":"integer","title":"Port","default":8001},"openai_api_key":{"type":"string","title":"Openai Api Key","description":"OpenAI API key"},"openai_base_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Openai Base Url","description":"OpenAI base URL (for custom endpoints)"},"openai_organization":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Openai Organization","description":"OpenAI organization ID"},"default_model":{"type":"string","title":"Default Model","default":"gpt-4"},"max_tokens":{"type":"integer","title":"Max Tokens","default":4000},"temperature":{"type":"number","title":"Temperature","default":0.7},"rate_limit_per_minute":{"type":"integer","title":"Rate Limit Per Minute","default":60},"log_level":{"type":"string","title":"Log Level","default":"INFO"},"log_format":{"type":"string","title":"Log Format","default":"{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}"},"cors_origins":{"items":{"type":"string"},"type":"array","title":"Cors Origins","default":["http://localhost:3000","http://localhost:8000"]}},"type":"object","required":["openai_api_key"],"title":"Settings","description":"Application settings with environment variable support."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}